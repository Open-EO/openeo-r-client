<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>OIDC Authentication — OIDCAuth • openeo</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="OIDC Authentication — OIDCAuth"><meta property="og:description" content="defines classes for different OpenID connect interaction mechanisms. The classes are modeled in generalized
fashion by inheriting functions from IAuth and AbstractOIDCAuthentication."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">openeo</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/openeo-01-getting_started.html">Getting Started</a>
    </li>
    <li>
      <a href="../articles/openeo-02-sample_data.html">Sample Data Retrieval</a>
    </li>
    <li>
      <a href="../articles/openeo-03-package-software-architecture.html">Software and Package Architecture</a>
    </li>
    <li>
      <a href="../articles/openeo-04-process_graph_concepts.html">Process Graph Building</a>
    </li>
    <li>
      <a href="../articles/openeo-05-process_graph_building_application.html">Process Graph Building Application</a>
    </li>
    <li>
      <a href="../articles/openeo-06-developer_implementation_details.html">Developer Implementation Details</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/Open-EO/openeo-r-client/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>OIDC Authentication</h1>
    <small class="dont-index">Source: <a href="https://github.com/Open-EO/openeo-r-client/blob/master/R/authentication.R" class="external-link"><code>R/authentication.R</code></a></small>
    <div class="hidden name"><code>OIDCAuth.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>defines classes for different OpenID connect interaction mechanisms. The classes are modeled in generalized
fashion by inheriting functions from <code>IAuth</code> and <code>AbstractOIDCAuthentication</code>.</p>
    </div>


    <div id="details">
    <h2>Details</h2>
    <p>The openEO conformant back-ends shall offer either a basic authentication and / or an OpenID
Connect (OIDC) authentication. The first is covered at <a href="BasicAuth.html">BasicAuth</a>. And since OIDC is based
on the OAuth2.0 protocol there are several mechanisms defined to interact with an OIDC provider. The OIDC provider can be the
back-end provider themselves, but they can also delegate the user management to other platforms like EGI, Github, Google,
etc, by pointing to the respective endpoints during the service discovery of the back-end. Normally
users would not create those classes manually, but state the general login type (oidc or basic) and some
additional information (see <a href="login.html">login</a>).</p>
<p>This client supports the following interaction mechanisms (grant types):</p><ul><li><p>authorization_code</p></li>
<li><p>authorization_code+pkce</p></li>
<li><p>client_credentials</p></li>
<li><p>urn:ietf:params:oauth:grant-type:device_code</p></li>
<li><p>urn:ietf:params:oauth:grant-type:device_code+pkce</p></li>
</ul><div class="section">
<h3 id="authorization-code">authorization_code<a class="anchor" aria-label="anchor" href="#authorization-code"></a></h3>
<p>During the login process an internet browser window will be opened and you will be asked to enter your credentials.
The website belongs to the OIDC provider of the chosen openEO back-end. Meanwhile, the client will start a server daemon in
the background that listens to the callback from the OIDC provider. For this to work the user needs to get in contact with
the openEO service provider and ask them for a configuration file that will contain information about the <code>client_id</code> and
<code>secret</code>. The redirect URL requested from the provider is <code>http://localhost:1410/</code></p>
</div>

<div class="section">
<h3 id="authorization-code-pkce">authorization_code+pkce<a class="anchor" aria-label="anchor" href="#authorization-code-pkce"></a></h3>
<p>This procedure also spawns a temporary web server to capture the redirect URL from the OIDC provider. The benefit of this
mechanism is that it does not require a client secret issued from the OIDC provider anymore. However, it will still open
the internet browser and asks the user for credentials and authorization.</p>
</div>

<div class="section">
<h3 id="device-code-pkce">device_code+pkce<a class="anchor" aria-label="anchor" href="#device-code-pkce"></a></h3>
<p>This mechanism does not need to spawn a web server anymore. It will poll the endpoint of the OIDC provider until the user
enters a specific device code that will be printed onto the R console. To enter the code either the URL is printed also to
the console or if R runs in the interactive mode the internet browser will be opened automatically.</p>
</div>

<div class="section">
<h3 id="device-code">device_code<a class="anchor" aria-label="anchor" href="#device-code"></a></h3>
<p>This mechanism uses a designated device code for human confirmation. It is closely related to the device_code+pkce code flow,
but without the additional PKCE negotiation.</p>
</div>

    </div>
    <div id="fields">
    <h2>Fields</h2>


<dl><dt><code>access_token</code></dt>
<dd><p>The access_token to query password restricted  webservices of an openEO back-end</p></dd>


<dt><code>id_token</code></dt>
<dd><p>The id_token retrieved when exchanging the access_token at the identity provider</p></dd>


</dl></div>
    <div id="methods">
    <h2>Methods</h2>


<dl><dt><code>$new(provider, config=NULL, ...)</code></dt>
<dd><p>the constructor for the authentication</p></dd>

<dt><code>$login()</code></dt>
<dd><p>Initiates the authentication / login in order to obtain the access_token</p></dd>

<dt><code>$logout()</code></dt>
<dd><p>Terminates the access_token session and logs out the user on the openEO back-end</p></dd>

<dt><code>$getUserData()</code></dt>
<dd><p>queries the OIDC provider for the user data like the 'user_id'</p></dd>

<dt><code>$getAuth()</code></dt>
<dd><p>returns the internal authentication client as created from package 'httr2'</p></dd>


</dl></div>
    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt><code>provider</code></dt>
<dd><p>the name of an OIDC provider registered on the back-end or a provider object as returned by <code><a href="list_oidc_providers.html">list_oidc_providers()</a></code></p></dd>

<dt><code>config</code></dt>
<dd><p>either a JSON file containing information about 'client_id' and
'secret' or a named list. Experienced user and developer can also add 'scopes' to
overwrite the default settings of the OIDC provider</p></dd>

<dt><code>...</code></dt>
<dd><p>additional parameter might contain <code>force=TRUE</code> specifying to force the use
of a specific authentication flow</p></dd>


</dl></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index">
<dl><dt>openEO definition on Open ID connect</dt>
<dd><p><a href="https://openeo.org/documentation/1.0/authentication.html#openid-connect" class="external-link">https://openeo.org/documentation/1.0/authentication.html#openid-connect</a></p></dd>

<dt>Open ID Connect (OIDC)</dt>
<dd><p><a href="https://openid.net/connect/" class="external-link">https://openid.net/connect/</a></p></dd>

<dt>OAuth 2.0 Device Authorization Grant</dt>
<dd><p><a href="https://datatracker.ietf.org/doc/html/rfc8628" class="external-link">https://datatracker.ietf.org/doc/html/rfc8628</a></p></dd>

<dt>Proof Key for Code Exchange by OAuth Public Clients</dt>
<dd><p><a href="https://datatracker.ietf.org/doc/html/rfc7636" class="external-link">https://datatracker.ietf.org/doc/html/rfc7636</a></p></dd>


</dl></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Florian Lahn.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

